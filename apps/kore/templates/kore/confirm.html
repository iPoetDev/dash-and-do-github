{% extends "sitebase.html" %}
<!-- @formatter:off -->
{% load i18n %}
{% load account %}
{% load static %}
{% block body %}
<!-- ================================= KORE APP | PUBLIC | EMAIL CONFIRM | CONFIRM.HTML =============================== -->

<body
    class="[ ] [ flex flex-col items-stretch content-between ]"
    data-app="core"
    data-view="public"
    id="all-body"
    hx-ext="debug, event-header">

    <!-- Hide until found: https://www.w3.org/WAI/tutorials/menus/skip/ -->
    <!-- https://webaim.org/techniques/skipnav/ -->

    {% if request.user.is_authenticated %}
        {% include "private/skiplinks_private.html" %}
    {% else %}
        {% include "public/skiplinks_public.html" %}
    {% endif %}

{#    {% filter force_escape %} {% debug %} {% endfilter %}#}
    {% include "header.html" %}

    <main
        class="[ page-main-content ] [ flex flex-row ] [ h-max ] [ mt-0 md:mt-1 lg:mt-6 ] [ px-4 pb-20 lg:pb-4 ] [ space-y-10 lg:space-y-0 lg:space-x-10 ]"
        data-view="public"
        id="main-page-content">
        <!-- ===================================== CONTENT: PUBLIC : 1 COLUMN ================================  -->

        <div
            class="[ main-content ] [ flex flex-1 flex-col ] [ space-y-10 ] | [ transition-width duration-300 ease-out ] | [ font-normal text-base text-black ]"
            role="region"
            id="central-col2-content">
            <!-- ================================= CONTENT: TOP: HERO ========================================  -->
            <!-- Block[Row]: Content | Top Section: 1) All Views: Hero | Carousel -->

{#            <section#}
{#                class="[ top-content ] [ flex-1 flex-end ] [ min-w-3/4 w-full min-h-350 ] [ mx-auto p-3 ] [ bg-gray-300 ]"#}
{#                aria-description="Content - Hero"#}
{#                aria-label="Hero Carousel"#}
{#                data-content="top"#}
{#                data-view="all"#}
{#                id="top-section-content">#}
{#                <!-- ========================= INCLUDE: TOP : HERO | CAROUSEL ================================  -->#}
{##}
{#                {% include "all/hero.html" %}#}
{##}
{#                <!-- ========================= INCLUDE: TOP : HERO | CAROUSEL ================================  -->#}
{#            </section>#}

            <!-- ================================= CONTENT: MIDDLE: FEATURES =================================  -->
            <!-- Block: Content | Mid Section: 1) Public & 2) Private  -->

            <section
                class="[ mid-content ] [ flex-1 flex-end ] [ max-w-7/8 w-full min-h-350 ] [ mx-auto p-4 ] | [ bg-gray-400 ] [ font-normal text-base text-black ]"
                aria-description="Content - Call to actions"
                aria-label="Content"
                data-content="middle"
                data-view="all"
                id="middle-section-content">
                <h1
                    class="[ header-content ] [ invisible opacity-0 ] [ sr-only ]"
                    id="header-middle-content"
                    aria-description=""
                    aria-label="Content header - middle of page"
                    data-view="all"
                    hidden="until-found">
                    User Registration | App Content
                </h1>
                {% if confirmation %}
                    {% user_display confirmation.email_address.user as user_display %}

                    {% if can_confirm %}
                        <p>{% blocktrans with confirmation.email_address.email as email %}Please confirm that
                            <a href="mailto:{{ email }}">{{ email }}</a> is an email address for user {{ user_display }}.
                        {% endblocktrans %}</p>
                    {% endif %}
                    {% if request.user.is_authenticated %}
                        <p>The user has an account and is already authenticated</p>
                    {% endif %}
                    {% if not request.user.is_authenticated %}
                        <p>The user has an account and is not already authenticated</p>
                    {% endif %}
                {% endif %}
                {% if request.user.is_authenticated %}
                    <p>The user has an account and is already authenticated</p>
                {% endif %}
                <!-- ======================= CONTENT: MID 1st Col/Ro: FORM PROMO: CARDS ==================  -->
            </section>
        </div>
    </main>
    <!-- ========================================= FOOTER ===================================================  -->

    {% include "all/footer.html" %}

    <!-- ========================================= Scripts ===================================================  -->

    <!-- ====================================== django debug toolbar | HTMX ===================================  -->

    {% include "all/scripts.html" %}

    <!-- ====================================== django debug toolbar | HTMX ===================================  -->

    {% if debug %}
    <script>
        console.log('Debug is ON, HTMX is active')
        if (typeof window.htmx !== 'undefined') {
            htmx.on('htmx:afterSettle', function (detail) {
                if (typeof window.djdt !== 'undefined' && detail.target instanceof HTMLBodyElement) {
                    djdt.show_toolbar()
                }
            })
        }
        console.log('=====================================')
        htmx.logger = function(elt, event, data) {
            if(console) {
                console.log(event, elt, data);
            }
        }
    </script>
    {% endif %}
    <!-- <script
            {# type="text/javascript" #}
            {# src="{{ STATIC_URL }}debugtools/jquery.debug.js"> #}
        </script>-->
    <!-- ====================================== django debug toolbar | HTMX ===================================  -->
</body>

<!-- ================================= CORE APP | PUBLIC | PRIVATE | INDEX.HTML =============================== -->

{% endblock body %}
